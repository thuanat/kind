deploymentMode: SingleBinary

mimir:
  structuredConfig:
    multitenancy_enabled: false
    common:
      storage:
        backend: filesystem
    blocks_storage:
      backend: filesystem
      filesystem:
        dir: /data/mimir/blocks
    alertmanager_storage:
      backend: filesystem
      filesystem:
        dir: /data/mimir/alerts
    ruler_storage:
      backend: filesystem
      filesystem:
        dir: /data/mimir/rules

# Ép Pod Single Binary chạy và có quyền ghi data
singleBinary:
  replicas: 1
  persistence:
    enabled: false
  extraVolumes:
    - name: storage
      emptyDir: {}
  extraVolumeMounts:
    - name: storage
      mountPath: /data

# VÔ HIỆU HÓA tất cả các thành phần distributed (quan trọng)
mimir-distributed:
  enabled: false # Tắt chart phụ nếu có
nginx: { enabled: false }
gateway: { enabled: false }
kafka: { enabled: false }
minio: { enabled: false }